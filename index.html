<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        #app {
            max-width: 800px;
            margin: 0 auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table, th, td {
            border: 1px solid #ddd;
        }

        th, td {
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
    <title>Product Display</title>
</head>
<body>
    <div id="app">
        <h1>Import Products</h1>
        <div>
            <label for="displayHandling">Display Handling Options:</label>
            <!-- Add your display handling options here -->
        </div>
        <div>
            <button onclick="addToDisplay()">>></button>
            <button onclick="removeFromDisplay()"><<</button>
        </div>
        <table id="productTable">
            <!-- Table headers will be added dynamically using JavaScript -->
        </table>
    </div>
    <script>
        // Function to fetch and display data
        async function fetchData() {
            const response = await fetch('https://s3.amazonaws.com/open-to-cors/assignment.json');
            const data = await response.json();

            // Sort data by descending popularity
            const sortedData = data.sort((a, b) => b.Popularity - a.Popularity);

            // Display headers
            const tableHeaders = ['Title', 'Price'];
            displayTableHeaders(tableHeaders);

            // Display data
            sortedData.forEach(product => displayProduct(product));
        }

        // Function to display table headers
        function displayTableHeaders(headers) {
            const table = document.getElementById('productTable');
            const headerRow = table.createTHead().insertRow(0);

            headers.forEach(headerText => {
                const th = document.createElement('th');
                th.appendChild(document.createTextNode(headerText));
                headerRow.appendChild(th);
            });
        }

        // Function to display a product in the table
        function displayProduct(product) {
            const table = document.getElementById('productTable');
            const row = table.insertRow();

            const titleCell = row.insertCell(0);
            titleCell.appendChild(document.createTextNode(product.Title));

            const priceCell = row.insertCell(1);
            priceCell.appendChild(document.createTextNode(product.Price));
        }

        // Function to add selected option to display
        function addToDisplay() {
            // Implement logic to add selected option to display
        }

        // Function to remove selected option from display
        function removeFromDisplay() {
            // Implement logic to remove selected option from display
        }

        // Fetch and display data on page load
        fetchData();
    </script>
</body>
</html>
